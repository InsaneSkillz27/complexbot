"use strict";

var bower = require('bower');     //bower组件安装
var defaultConfig = require('../config');
var cli = require('../util/cli');  //命令行
var fs = require('fs');

/**
 * 查看组件信息
 * fpm search moduleName
 * @moduleName 组件名称
 */
function search(moduleName) {
    
    bower.commands.search(moduleName , {'registry': defaultConfig.registry , "strictSsl":false}).on('end' , function(result){
           for(var i=0 ; i<result.length; i++){
                var item = result[i];
                console.log(item.name + '\t'+item.url);
           }
    });
}

// -------------------

search.line = function (argv) {
    var options = search.options(argv);
    var name = options.argv.remain[1];

    return search(name);
};

search.options = function (argv) {
    return cli.readOptions(argv);
};

search.completion = function () {
    // TODO:
};

module.exports = search;